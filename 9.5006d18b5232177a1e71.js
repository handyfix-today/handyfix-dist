(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{L0xO:function(e,t,n){"use strict";n.r(t),n.d(t,"ScheduleModule",function(){return O});var o=n("FKr1"),a=n("PCNd"),c=n("fXoL");let r=(()=>{class e extends o.l{getDayOfWeekNames(e){return["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]}getMonthNames(e){return["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"]}getFirstDayOfWeek(){return 1}}return e.\u0275fac=function(t){return d(t||e)},e.\u0275prov=c.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const d=c.Sb(r);var i=n("tyNb"),l=n("3Pt+"),s=n("u3Jx"),g=n("dNgK"),h=n("gkqj"),u=n("T07Q"),m=n("2lk3"),p=n("Wp6s"),b=n("iadO"),C=n("bTqV");const P=[{path:"",component:(()=>{class e{constructor(e,t,n,o,a,c){this.formBuilder=e,this.router=t,this.snackBarService=n,this.api=o,this.context=a,this.service=c,this.subscriptions=[],this.startAtDate=this.setStartAtDate(8),this.createForm()}get zipCodeControl(){return this.addressForm.get("zipCode")}ngOnInit(){this.subscriptions.push(this.context.order$.subscribe(e=>{e&&(this.order=e,this.updateForm(),this.selectedDate=this.order.date)}),this.context.holidays$.subscribe(e=>{e&&(this.holidays=e,this.dateFilter=e=>{const t=(e||new Date).getDay();return!(this.service.convertDateToServerModel(e)in this.holidays||0===t||6===t)})}))}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}onDateChange(e){this.selectedDate=e}onCompleteSchedulingBtnClick(){const e=this.context.order$.getValue(),t=this.service.createOrder(Object.assign({date:this.selectedDate,coupon:e?e.coupon:null},this.addressForm.getRawValue()),[...this.context.orderItems$.getValue().values()]);e?this.context.updateOrder(t):this.context.nextOrder(t),this.router.navigate(["/cart"])}onZipCodeChange(){this.zipCodeControl.setValue(this.zipCodeControl.value.replace(/\D+/g,""))}setStartAtDate(e){const t=new Date,n=new Date(t.setDate(t.getDate()+e)),o=n.getDay();return 0===o||6===o?this.setStartAtDate(++e):n}createForm(){this.addressForm=this.formBuilder.group({fullName:["",l.s.required],address:["",l.s.required],zipCode:[this.context.zipCode$.getValue().postcode,l.s.compose([l.s.required,l.s.pattern("^\\d{4}$")]),s.a.createValidator(this.snackBarService,this.api,this.context)],city:["",l.s.required],phone:["",l.s.compose([l.s.required,l.s.pattern("[- +()\\d]+")])],email:["",l.s.compose([l.s.required,l.s.email])]})}updateForm(){this.addressForm.setValue({fullName:this.order.fullName,address:this.order.address,zipCode:this.order.zipCode,city:this.order.city,phone:this.order.phone,email:this.order.email})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(l.d),c.Lb(i.b),c.Lb(g.a),c.Lb(h.a),c.Lb(u.a),c.Lb(m.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-scheduling"]],decls:25,vars:5,consts:[[1,"newco-schedule"],[1,"newco-scheduling-calendar"],[3,"minDate","selected","dateFilter","selectedChange"],[1,"newco-scheduling-form"],["novalidate","",3,"formGroup"],["type","text","placeholder","Navn","required","","formControlName","fullName"],["type","text","placeholder","Adresse","required","","formControlName","address"],["type","tel","inputmode","numeric","placeholder","Postnr","required","","formControlName","zipCode",3,"input"],["type","text","placeholder","By","required","","formControlName","city"],["type","tel","placeholder","Mobilnr","required","","formControlName","phone"],["type","text","placeholder","Email","required","","formControlName","email"],["type","button","mat-button","",3,"disabled","click"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div"),c.Qb(2,"mat-card",1),c.Qb(3,"mat-card-header"),c.Qb(4,"mat-card-title"),c.qc(5,"N\xe5r \xf8nsker du begynne arbeidet?"),c.Pb(),c.Pb(),c.Qb(6,"mat-card-content"),c.Qb(7,"mat-calendar",2),c.Xb("selectedChange",function(e){return t.onDateChange(e)}),c.Pb(),c.Qb(8,"p"),c.qc(9,"Vi tar kontakt med dig for \xe5 bekrefte eksakt tid og dato for oppstart"),c.Pb(),c.Pb(),c.Pb(),c.Qb(10,"mat-card",3),c.Qb(11,"mat-card-header"),c.Qb(12,"mat-card-title"),c.qc(13,"Hvor \xf8nsker du oppdraget utf\xf8rt?"),c.Pb(),c.Pb(),c.Qb(14,"mat-card-content"),c.Qb(15,"form",4),c.Mb(16,"input",5),c.Mb(17,"input",6),c.Qb(18,"div"),c.Qb(19,"input",7),c.Xb("input",function(){return t.onZipCodeChange()}),c.Pb(),c.Mb(20,"input",8),c.Pb(),c.Mb(21,"input",9),c.Mb(22,"input",10),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(23,"button",11),c.Xb("click",function(){return t.onCompleteSchedulingBtnClick()}),c.qc(24,"G\xe5 videre "),c.Pb(),c.Pb()),2&e&&(c.Bb(7),c.fc("minDate",t.startAtDate)("selected",t.selectedDate)("dateFilter",t.dateFilter),c.Bb(8),c.fc("formGroup",t.addressForm),c.Bb(8),c.fc("disabled",t.addressForm.invalid||!t.selectedDate))},directives:[p.a,p.d,p.f,p.b,b.b,l.t,l.n,l.h,l.b,l.r,l.m,l.g,C.b],styles:[".newco-schedule[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);background:linear-gradient(180deg,#eaf4fe,#f6faff);padding:24px}.newco-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.newco-schedule[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-radius:11px;box-shadow:0 2px 4px 0 rgba(0,0,0,.04);padding:12px 16px 20px}.newco-schedule[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:16px}.newco-schedule[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]     .mat-card-header-text{margin:0}.newco-schedule[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{line-height:20px;font-size:15px;font-weight:600;color:#023135;margin:0}.newco-schedule[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:75px;height:32px;line-height:20px;font-size:13px;font-weight:500;color:#f36b2b;background-color:initial;border:2px solid #f36b2b;border-radius:16px;padding:0 10px;margin-left:8px}.newco-schedule[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:20px;font-size:15px;color:#486b70;text-align:center;margin-top:12px}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-header{padding:0}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-header .mat-calendar-controls{margin:0 0 16px}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-header .mat-calendar-period-button{flex:1;order:2;font-weight:500;color:#023135}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-header .mat-calendar-period-button .mat-calendar-arrow{display:none}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-header .mat-calendar-next-button{order:3}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-header .mat-calendar-next-button, .newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-header .mat-calendar-previous-button{width:44px;height:44px;line-height:44px;border:2px solid #d7eae5;box-shadow:0 2px 4px 0 rgba(0,0,0,.04)}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-header .mat-calendar-spacer{flex:0}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content{padding:0}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content thead.mat-calendar-table-header tr:last-of-type{display:none}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content thead.mat-calendar-table-header th{line-height:20px;font-size:13px;font-weight:500;color:#023135}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content tbody.mat-calendar-body .mat-calendar-body-label{font-weight:500;color:#023135}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content tbody.mat-calendar-body td.mat-calendar-body-disabled div{color:rgba(2,49,53,.6)}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content tbody.mat-calendar-body td.mat-calendar-body-range-start div{border-radius:50% 0 0 50%}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content tbody.mat-calendar-body td.mat-calendar-body-in-range:before{background-color:rgba(243,107,43,.2)}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content tbody.mat-calendar-body td.mat-calendar-body-range-end div{border-radius:0 50% 50% 0}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content tbody.mat-calendar-body td div{font-size:15px;font-weight:500;color:#f36b2b}.newco-schedule[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content tbody.mat-calendar-body td div.mat-calendar-body-selected{color:#fff;background-color:#f36b2b}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]{background-color:initial;border:2px solid rgba(1,122,92,.15);margin:12px 0 32px}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;margin-bottom:8px}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:3;margin:0}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-of-type{flex:1;margin-right:8px}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{line-height:20px;font-family:Inter,Roboto,Helvetica Neue,sans-serif;font-size:15px;font-weight:500;color:#023135;border:1px solid transparent;border-radius:4px;padding:10px 12px;width:100%}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border-color:#ff5735}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#fff}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{font-weight:500;color:rgba(2,49,53,.3)}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{font-weight:500;color:rgba(2,49,53,.3)}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{font-weight:500;color:rgba(2,49,53,.3)}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-placeholder{font-weight:500;color:rgba(2,49,53,.3)}.newco-schedule[_ngcontent-%COMP%]   .newco-scheduling-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:8px}.newco-schedule[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:60%;display:block;line-height:44px;border-radius:28px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#fff;background-color:#f36b2b;margin:0 auto}.newco-schedule[_ngcontent-%COMP%] > button[disabled][_ngcontent-%COMP%]{background-color:rgba(0,0,0,.12)}@media (max-width:1149px){.newco-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-direction:column}}@media (min-width:1150px){.newco-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-direction:row;margin-bottom:32px}.newco-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{flex:1;margin:0}.newco-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-card.newco-scheduling-calendar[_ngcontent-%COMP%]{margin:0 12px 0 0}.newco-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-card.newco-scheduling-form[_ngcontent-%COMP%]{margin:0 0 0 12px}.newco-schedule[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:30%}}"]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[i.e.forChild(P)],i.e]}),e})(),O=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},providers:[{provide:o.a,useClass:r}],imports:[[a.a,M]]}),e})()}}]);